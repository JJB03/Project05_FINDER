<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{/layout/payments_layout}">
  <head>
    <meta charset="utf-8" />
    <style>
      .error-page {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        text-align: center;
      }
  
      .error-page img {
        max-width: 100%;
        height: 500px;
      }
  
      .error-page h1 {
        font-size: 3rem;
        color: #007bff;
      }
      
      .error-page p {
        color: grey;
      }
  </style>
    <link rel="stylesheet" href="/css/credit.css">
  </head>

  <body layout:fragment="content">

    <!-- CSRF 토큰 -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

    <div class="container error-page h-auto">
      <img src="/img/logo.png" alt="Logo">
      <h1> 결제 실패 </h1>
      <p id="code"></p>
      <p id="message"></p>
      <a style="font-size: 30px; text-decoration: none;" href="javascript:history.back()">이전페이지로 돌아가기</a>
    </div>

  </body>
</html>

<script>
  const urlParams = new URLSearchParams(window.location.search);

  const codeElement = document.getElementById("code");
  const messageElement = document.getElementById("message");

  codeElement.textContent = "에러코드: " + urlParams.get("code");
  messageElement.textContent = "실패 사유: " + urlParams.get("message");
</script>